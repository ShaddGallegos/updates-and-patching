[defaults]
# Unified Satellite Management Configuration
inventory = inventory
roles_path = roles:satellite/roles:../roles
collections_paths = ~/.ansible/collections:/usr/share/ansible/collections

# Connection settings
host_key_checking = False
timeout = 300
gather_timeout = 60
remote_user = root
gathering = smart

# Performance settings
forks = 10
pipelining = True
fact_caching = memory
fact_caching_timeout = 86400

# Logging and output
log_path = /var/log/ansible.log
stdout_callback = yaml
display_skipped_hosts = False
display_ok_hosts = True

# Error handling
retry_files_enabled = True
retry_files_save_path = ./retries

# Privilege escalation
become = True
become_method = sudo
become_user = root

# Satellite-specific settings
force_valid_group_names = ignore
host_pattern_mismatch = warning

# Callbacks
callback_whitelist = timer, profile_tasks

[inventory]
enable_plugins = host_list, script, auto, yaml, ini, toml

[privilege_escalation]
become = True
become_method = sudo
become_user = root
become_ask_pass = False

[ssh_connection]
ssh_args = -C -o ControlMaster=auto -o ControlPersist=60s -o StrictHostKeyChecking=no -o UserKnownHostsFile=/dev/null
pipelining = True
control_path_dir = ~/.ansible/cp
control_path = %(directory)s/%%h-%%p-%%r

[persistent_connection]
command_timeout = 300
connect_timeout = 60
